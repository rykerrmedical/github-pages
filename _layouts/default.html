<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ page.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Link to your stylesheet -->
  <link rel="stylesheet" href="/assets/css/style.css">

  {% include head-custom.html %}
</head>


<body>
  <button id="contrast-toggle" aria-label="Toggle High Contrast Mode">
    Toggle Contrast
  </button>
  
  <button id="scroll-top" aria-label="Go to Top">
    ↑ Top
  </button>
  
  <nav id="site-nav">
    <button class="nav-toggle" id="nav-toggle" aria-label="Toggle menu">☰</button>
    <div class="nav-links" id="nav-links">
      <a href="{{ site.baseurl }}/">Home</a>
      <a href="{{ site.baseurl }}/clinical-resources/">Clinical Resources</a>
      <a href="{{ site.baseurl }}/austere-medicine/">Austere Medicine</a>
      <a href="{{ site.baseurl }}/coned-ceus/">ConEd/ CEUs</a>
      <a href="{{ site.baseurl }}/blog/">Blog</a>
      <a href="{{ site.baseurl }}/podcast/">Podcast</a>
      <a href="{{ site.baseurl }}/the-tech-side/">The Tech Side</a>
      <a href="{{ site.baseurl }}/talk-to-us/">Talk to Us</a>
      <a href="#" id="close-menu">(Close Menu)</a>
    </div>
  </nav>

  
  <main class="homepage">
    {{ content }}
  </main>

  <script>
    const nav = document.getElementById('site-nav');
    const toggle = document.getElementById('nav-toggle');
    const closeMenu = document.getElementById('close-menu');

    toggle.addEventListener('click', () => {
      nav.classList.add('open');
    });

    closeMenu.addEventListener('click', (e) => {
      e.preventDefault();
      nav.classList.remove('open');
    });
  </script>

  <script>
    document.querySelectorAll('a[href^="http"]').forEach(link => {
      if (!link.href.includes(location.hostname)) {
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
      }
    });
  </script>

  {% include footer.html %}
  
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById("contrast-toggle");
    if (!toggle) return;

    // On page load, check if high-contrast was previously enabled
    if (localStorage.getItem("highContrast") === "true") {
      document.body.classList.add("high-contrast");
    }

    toggle.addEventListener("click", function () {
      document.body.classList.toggle("high-contrast");

      // Save the current state to localStorage
      const isHighContrast = document.body.classList.contains("high-contrast");
      localStorage.setItem("highContrast", isHighContrast);
    });
  });
  </script>
  
  <script>
      document.addEventListener("DOMContentLoaded", function () {
        const scrollTopBtn = document.getElementById("scroll-top");
        if (!scrollTopBtn) return;

        // Show button only when scrolled down
        window.addEventListener("scroll", () => {
          if (window.scrollY > 200) {
            scrollTopBtn.classList.add("show");
          } else {
            scrollTopBtn.classList.remove("show");
          }
        });

        scrollTopBtn.addEventListener("click", function () {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      });
  </script>
  
</body>
</html>
